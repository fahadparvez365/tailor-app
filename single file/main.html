<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تیلر مینجمنٹ سوفٹ ویئر</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
</head>
<style>
    
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Noto Sans Arabic', 'Al Tarikh', 'Nafees', 'Jameel Noori Nastaleeq', sans-serif;
        }
        
        :root {
            --primary-color: #1a365d;
            --secondary-color: #2b6cb0;
            --accent-color: #e53e3e;
            --light-color: #f7fafc;
            --dark-color: #2d3748;
            --success-color: #38a169;
            --warning-color: #d69e2e;
            --sidebar-width: 250px;
            --header-height: 60px;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --border-radius: 6px;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Login Screen */
        .login-container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            width: 400px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        
        .login-logo {
            margin-bottom: 30px;
        }
        
        .login-logo i {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .login-logo h1 {
            font-size: 24px;
            color: var(--primary-color);
        }
        
        .login-form .form-group {
            margin-bottom: 20px;
            text-align: right;
        }
        
        .login-form label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        .login-form input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .login-form input:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .login-btn {
            width: 100%;
            padding: 14px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        .login-btn:hover {
            background: var(--secondary-color);
        }
        
        /* Main Application Container */
        .app-container {
            display: none;
            width: 100vw;
            height: 100vh;
            background: var(--light-color);
            overflow: hidden;
        }
        
        /* Header */
        .app-header {
            height: var(--header-height);
            background: var(--primary-color);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            box-shadow: var(--shadow);
            z-index: 100;
            position: relative;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .app-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .app-logo i {
            font-size: 24px;
            color: var(--secondary-color);
        }
        
        .app-logo h1 {
            font-size: 20px;
            font-weight: 700;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--secondary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Main Content Area */
        .app-main {
            display: flex;
            height: calc(100vh - var(--header-height));
        }
        
        /* Sidebar */
        .app-sidebar {
            width: var(--sidebar-width);
            background: white;
            border-left: 1px solid #e2e8f0;
            padding: 20px 0;
            overflow-y: auto;
            box-shadow: var(--shadow);
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .menu-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.3s;
            border-right: 3px solid transparent;
            color: var(--dark-color);
            text-decoration: none;
            display: flex;
        }
        
        .menu-item:hover {
            background: #f7fafc;
            border-right-color: var(--secondary-color);
        }
        
        .menu-item.active {
            background: #ebf8ff;
            border-right-color: var(--secondary-color);
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        .menu-item i {
            width: 20px;
            text-align: center;
        }
        
        /* Content Area */
        .content-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f7fafc;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .page-title {
            font-size: 24px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .page-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: #2c5282;
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background: #2f855a;
        }
        
        .btn-danger {
            background: var(--accent-color);
            color: white;
        }
        
        .btn-danger:hover {
            background: #c53030;
        }
        
        /* Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .stat-info {
            flex: 1;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
            line-height: 1;
        }
        
        .stat-label {
            font-size: 14px;
            color: #718096;
            margin-top: 5px;
        }
        
        .recent-orders {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }
        
        .section-title {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        /* Table Styles */
        .table-container {
            overflow-x: auto;
            border-radius: var(--border-radius);
            border: 1px solid #e2e8f0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        table thead {
            background: var(--primary-color);
            color: white;
        }
        
        table th {
            padding: 15px;
            text-align: right;
            font-weight: 600;
        }
        
        table tbody tr {
            border-bottom: 1px solid #e2e8f0;
        }
        
        table tbody tr:nth-child(even) {
            background: #f7fafc;
        }
        
        table tbody tr:hover {
            background: #ebf8ff;
        }
        
        table td {
            padding: 12px 15px;
        }
        
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-pending {
            background: #feebc8;
            color: #b7791f;
        }
        
        .status-completed {
            background: #c6f6d5;
            color: #276749;
        }
        
        /* Full Screen Form */
        .full-screen-form {
            position: fixed;
            top: 0;
            right: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .form-container {
            background: white;
            border-radius: 12px;
            width: 95%;
            height: 95%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
        }
        
        .form-header {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .form-title {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-form {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .close-form:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .form-body {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }
        
        .form-section {
            background: #f7fafc;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
        }
        
        .section-header i {
            color: var(--secondary-color);
            font-size: 20px;
        }
        
        .section-header h3 {
            color: var(--primary-color);
            font-size: 18px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-control:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .measurements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .option-group {
            background: white;
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid #e2e8f0;
        }
        
        .option-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-footer {
            padding: 20px;
            background: #f7fafc;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        /* Receipt Modal */
        .receipt-modal {
            position: fixed;
            top: 0;
            right: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .receipt-container {
            background: white;
            border-radius: 12px;
            width: 800px;
            max-width: 95%;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        /* Settings Page */
        .settings-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }
        
        .settings-tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 30px;
        }
        
        .tab-btn {
            padding: 15px 30px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: var(--dark-color);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            color: var(--secondary-color);
            border-bottom-color: var(--secondary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Print Styles */
        @media print {
            .app-header, .app-sidebar, .page-actions, .form-footer, .close-form {
                display: none !important;
            }
            
            .form-container, .receipt-container {
                width: 100% !important;
                height: auto !important;
                box-shadow: none !important;
                border-radius: 0 !important;
            }
            
            .form-body, .receipt-body {
                padding: 20px !important;
            }
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .app-sidebar {
                width: 70px;
            }
            
            .menu-item span {
                display: none;
            }
            
            .menu-item {
                justify-content: center;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-grid, .measurements-grid, .options-grid {
                grid-template-columns: 1fr;
            }
            
            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }

</style>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="login-screen">
        <div class="login-logo">
            <i class="fas fa-tshirt"></i>
            <h1>تیلر مینجمنٹ سوفٹ ویئر</h1>
        </div>
        
        <form class="login-form">
            <div class="form-group">
                <label for="username"><i class="fas fa-user"></i> صارف نام</label>
                <input type="text" id="username" placeholder="صارف نام درج کریں" value="admin" required>
            </div>
            
            <div class="form-group">
                <label for="password"><i class="fas fa-lock"></i> پاس ورڈ</label>
                <input type="password" id="password" placeholder="پاس ورڈ درج کریں" value="12345" required>
            </div>
            
            <button type="submit" class="login-btn">
                <i class="fas fa-sign-in-alt"></i> لاگ ان کریں
            </button>
        </form>
    </div>

    <!-- Main Application -->
    <div class="app-container" id="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="app-logo">
                    <i class="fas fa-tshirt"></i>
                    <h1>تیلر مینجمنٹ سوفٹ ویئر</h1>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span id="current-user">منیجر</span>
                </div>
            </div>
            
            <div class="header-right">
                <div id="current-date" class="current-date"></div>
                <button class="logout-btn" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> لاگ آؤٹ
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Sidebar -->
            <nav class="app-sidebar">
                <ul class="sidebar-menu">
                    <li>
                        <a href="#" class="menu-item active" data-page="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>ڈیش بورڈ</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" data-page="customers">
                            <i class="fas fa-users"></i>
                            <span>کسٹمرز</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" id="open-customer-form">
                            <i class="fas fa-user-plus"></i>
                            <span>نیا کسٹمر</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" data-page="orders">
                            <i class="fas fa-clipboard-list"></i>
                            <span>آرڈرز</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" id="open-receipt">
                            <i class="fas fa-receipt"></i>
                            <span>رسید بنائیں</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" data-page="reports">
                            <i class="fas fa-chart-bar"></i>
                            <span>رپورٹس</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item" data-page="settings">
                            <i class="fas fa-cog"></i>
                            <span>ترتیبات</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Page -->
                <section id="dashboard-page" class="page active">
                    <div class="page-header">
                        <h2 class="page-title">
                            <i class="fas fa-tachometer-alt"></i>
                            ڈیش بورڈ
                        </h2>
                        <div class="page-actions">
                            <button class="btn btn-primary" id="quick-add-customer">
                                <i class="fas fa-user-plus"></i> فوری کسٹمر شامل کریں
                            </button>
                            <button class="btn btn-success" id="quick-receipt">
                                <i class="fas fa-receipt"></i> فوری رسید
                            </button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: #4299e1;">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="total-customers">0</div>
                                <div class="stat-label">کل کسٹمرز</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: #ed8936;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="pending-orders">0</div>
                                <div class="stat-label">زیر التواء</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: #48bb78;">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="completed-orders">0</div>
                                <div class="stat-label">مکمل شدہ</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: #e53e3e;">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="today-deliveries">0</div>
                                <div class="stat-label">آج کی ڈیلیوری</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recent-orders">
                        <h3 class="section-title">
                            <i class="fas fa-history"></i>
                            حالیہ آرڈرز
                        </h3>
                        <div class="table-container">
                            <table id="recent-orders-table">
                                <thead>
                                    <tr>
                                        <th>آرڈر نمبر</th>
                                        <th>کسٹمر نام</th>
                                        <th>فون نمبر</th>
                                        <th>تاریخ</th>
                                        <th>ڈیلیوری تاریخ</th>
                                        <th>سوٹ</th>
                                        <th>رقم</th>
                                        <th>حالت</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-orders-body">
                                    <!-- Recent orders will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Customers Page -->
                <section id="customers-page" class="page">
                    <div class="page-header">
                        <h2 class="page-title">
                            <i class="fas fa-users"></i>
                            تمام کسٹمرز
                        </h2>
                        <div class="page-actions">
                            <button class="btn btn-primary" id="add-customer-from-page">
                                <i class="fas fa-user-plus"></i> نیا کسٹمر
                            </button>
                            <button class="btn btn-success" id="export-customers">
                                <i class="fas fa-file-export"></i> ایکسپورٹ
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-container" style="margin-bottom: 20px; display: flex; gap: 10px;">
                        <input type="text" id="customer-search" class="form-control" placeholder="کسٹمر کا نام، فون نمبر یا آرڈر نمبر تلاش کریں..." style="flex: 1;">
                        <button class="btn btn-primary" id="search-customer-btn">
                            <i class="fas fa-search"></i> تلاش کریں
                        </button>
                        <button class="btn btn-danger" id="clear-search-btn">
                            <i class="fas fa-times"></i> صاف کریں
                        </button>
                    </div>
                    
                    <div class="table-container">
                        <table id="customers-table">
                            <thead>
                                <tr>
                                    <th>آرڈر نمبر</th>
                                    <th>کسٹمر نام</th>
                                    <th>فون نمبر</th>
                                    <th>تاریخ</th>
                                    <th>ڈیلیوری تاریخ</th>
                                    <th>سوٹ</th>
                                    <th>رقم</th>
                                    <th>ادائیگی</th>
                                    <th>بقایا</th>
                                    <th>حالت</th>
                                    <th>اقدامات</th>
                                </tr>
                            </thead>
                            <tbody id="customers-table-body">
                                <!-- Customers will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Other pages will be added similarly -->
                <section id="orders-page" class="page">
                    <div class="page-header">
                        <h2 class="page-title">
                            <i class="fas fa-clipboard-list"></i>
                            تمام آرڈرز
                        </h2>
                    </div>
                    <div class="table-container">
                        <table id="orders-table">
                            <thead>
                                <tr>
                                    <th>آرڈر نمبر</th>
                                    <th>کسٹمر نام</th>
                                    <th>فون نمبر</th>
                                    <th>تاریخ</th>
                                    <th>ڈیلیوری تاریخ</th>
                                    <th>سوٹ</th>
                                    <th>رقم</th>
                                    <th>ادائیگی</th>
                                    <th>بقایا</th>
                                    <th>حالت</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table-body">
                                <!-- Orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Settings Page -->
                <section id="settings-page" class="page">
                    <div class="page-header">
                        <h2 class="page-title">
                            <i class="fas fa-cog"></i>
                            ترتیبات
                        </h2>
                    </div>
                    
                    <div class="settings-container">
                        <div class="settings-tabs">
                            <button class="tab-btn active" data-tab="shop-settings">شاپ کی ترتیبات</button>
                            <button class="tab-btn" data-tab="measurement-settings">ناپ کی ترتیبات</button>
                            <button class="tab-btn" data-tab="user-settings">صارف کی ترتیبات</button>
                        </div>
                        
                        <div id="shop-settings" class="tab-content active">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="shop-name">شاپ کا نام</label>
                                    <input type="text" id="shop-name" class="form-control" placeholder="شاپ کا نام">
                                </div>
                                
                                <div class="form-group">
                                    <label for="shop-phone">فون نمبر</label>
                                    <input type="text" id="shop-phone" class="form-control" placeholder="فون نمبر">
                                </div>
                                
                                <div class="form-group">
                                    <label for="shop-address">پتہ</label>
                                    <textarea id="shop-address" class="form-control" rows="3" placeholder="شاپ کا پتہ"></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="shop-email">ای میل</label>
                                    <input type="email" id="shop-email" class="form-control" placeholder="ای میل ایڈریس">
                                </div>
                            </div>
                            
                            <div style="text-align: left; margin-top: 20px;">
                                <button class="btn btn-primary" id="save-shop-settings">
                                    <i class="fas fa-save"></i> محفوظ کریں
                                </button>
                            </div>
                        </div>
                        
                        <div id="measurement-settings" class="tab-content">
                            <div id="measurements-list">
                                <!-- Measurements will be loaded here -->
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <input type="text" id="new-measurement-name" class="form-control" placeholder="نیا ناپ کا نام درج کریں">
                                <button class="btn btn-success" id="add-measurement-btn">
                                    <i class="fas fa-plus"></i> شامل کریں
                                </button>
                            </div>
                            
                            <div style="text-align: left; margin-top: 20px;">
                                <button class="btn btn-primary" id="save-measurements-btn">
                                    <i class="fas fa-save"></i> تمام ناپ محفوظ کریں
                                </button>
                            </div>
                        </div>
                        
                        <div id="user-settings" class="tab-content">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="user-name">صارف نام</label>
                                    <input type="text" id="user-name" class="form-control" value="منیجر">
                                </div>
                                
                                <div class="form-group">
                                    <label for="current-password">موجودہ پاس ورڈ</label>
                                    <input type="password" id="current-password" class="form-control">
                                </div>
                                
                                <div class="form-group">
                                    <label for="new-password">نیا پاس ورڈ</label>
                                    <input type="password" id="new-password" class="form-control">
                                </div>
                                
                                <div class="form-group">
                                    <label for="confirm-password">پاس ورڈ کی تصدیق</label>
                                    <input type="password" id="confirm-password" class="form-control">
                                </div>
                            </div>
                            
                            <div style="text-align: left; margin-top: 20px;">
                                <button class="btn btn-primary" id="save-user-settings">
                                    <i class="fas fa-save"></i> محفوظ کریں
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Other pages (reports, etc.) would go here -->
            </div>
        </main>
    </div>

    <!-- Full Screen Add Customer Form -->
    <div class="full-screen-form" id="customer-form-modal">
        <div class="form-container">
            <div class="form-header">
                <div class="form-title">
                    <i class="fas fa-user-plus"></i>
                    نیا کسٹمر شامل کریں
                </div>
                <button class="close-form" id="close-customer-form">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="form-body">
                <form id="customer-form">
                    <!-- Basic Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-info-circle"></i>
                            <h3>بنیادی معلومات</h3>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="customer-name">کسٹمر کا نام *</label>
                                <input type="text" id="customer-name" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="customer-father">والد کا نام</label>
                                <input type="text" id="customer-father" class="form-control">
                            </div>
                            
                            <div class="form-group">
                                <label for="customer-phone">فون نمبر *</label>
                                <input type="tel" id="customer-phone" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="customer-cnic">شناختی کارڈ نمبر</label>
                                <input type="text" id="customer-cnic" class="form-control">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Order Details Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-clipboard-list"></i>
                            <h3>آرڈر کی تفصیلات</h3>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="order-date">آرڈر تاریخ *</label>
                                <input type="date" id="order-date" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="delivery-date">ڈیلیوری تاریخ *</label>
                                <input type="date" id="delivery-date" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="total-suits">سوٹ کی تعداد *</label>
                                <input type="number" id="total-suits" class="form-control" min="1" value="1" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="suit-type">سوٹ کی قسم</label>
                                <select id="suit-type" class="form-control">
                                    <option value="شلوار قمیض">شلوار قمیض</option>
                                    <option value="پتلون قمیض">پتلون قمیض</option>
                                    <option value="تھری پیس">تھری پیس</option>
                                    <option value="پنجابی">پنجابی</option>
                                    <option value="شرٹ پینٹ">شرٹ پینٹ</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Measurements Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-ruler"></i>
                            <h3>ناپ (میمنٹس)</h3>
                        </div>
                        
                        <div class="measurements-grid" id="measurement-fields">
                            <!-- Measurements will be loaded from settings -->
                        </div>
                    </div>
                    
                    <!-- Options Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-cogs"></i>
                            <h3>اختیارات</h3>
                        </div>
                        
                        <div class="options-grid">
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-palette"></i>
                                    ڈیزائن اور سٹائل
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="design" value="سادہ" checked>
                                        سادہ
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="design" value="فینسی">
                                        فینسی
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="design" value="پرنٹڈ">
                                        پرنٹڈ
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="design" value="مکس">
                                        مکس
                                    </label>
                                </div>
                            </div>
                            
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-vest"></i>
                                    کالر یا بین
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="collar" value="کالر" checked>
                                        کالر
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="collar" value="بین">
                                        بین
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="collar" value="کوئی نہیں">
                                        کوئی نہیں
                                    </label>
                                </div>
                            </div>
                            
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-parking"></i>
                                    فرنٹ پاکٹ
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="pocket" value="ہاں" checked>
                                        ہاں
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="pocket" value="نہیں">
                                        نہیں
                                    </label>
                                </div>
                            </div>
                            
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-cut"></i>
                                    سلائی
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="stitch" value="سادہ" checked>
                                        سادہ
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="stitch" value="ڈبل">
                                        ڈبل
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="stitch" value="سنگل">
                                        سنگل
                                    </label>
                                </div>
                            </div>
                            
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-circle"></i>
                                    گیرا
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="gera" value="گول" checked>
                                        گول
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="gera" value="سیدھا">
                                        سیدھا
                                    </label>
                                </div>
                            </div>
                            
                            <div class="option-group">
                                <div class="option-title">
                                    <i class="fas fa-fabric"></i>
                                    کپڑے کی قسم
                                </div>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="fabric" value="سادہ" checked>
                                        سادہ
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="fabric" value="ملیں">
                                        ملیں
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="fabric" value="جین">
                                        جین
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="fabric" value="شیٹنگ">
                                        شیٹنگ
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment & Notes Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>ادائیگی اور ہدایات</h3>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="total-amount">کل رقم *</label>
                                <input type="number" id="total-amount" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="advance-payment">ادائیگی *</label>
                                <input type="number" id="advance-payment" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="remaining-balance">بقایا</label>
                                <input type="number" id="remaining-balance" class="form-control" readonly>
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-method">ادائیگی کی قسم</label>
                                <select id="payment-method" class="form-control">
                                    <option value="کیش">کیش</option>
                                    <option value="جazzپے">جazzپے</option>
                                    <option value="ایزی پیسہ">ایزی پیسہ</option>
                                    <option value="بینک">بینک</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="special-notes">خصوصی ہدایات (نوٹس)</label>
                            <textarea id="special-notes" class="form-control" rows="4" placeholder="کوئی خصوصی ہدایات یہاں درج کریں..."></textarea>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="form-footer">
                <button class="btn btn-danger" id="cancel-customer-form">
                    <i class="fas fa-times"></i> منسوخ کریں
                </button>
                <button class="btn btn-primary" id="save-customer-btn">
                    <i class="fas fa-save"></i> محفوظ کریں اور رسید بنائیں
                </button>
                <button class="btn btn-success" id="save-only-btn">
                    <i class="fas fa-check"></i> صرف محفوظ کریں
                </button>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div class="receipt-modal" id="receipt-modal">
        <div class="receipt-container">
            <div class="form-header">
                <div class="form-title">
                    <i class="fas fa-receipt"></i>
                    رسید
                </div>
                <button class="close-form" id="close-receipt">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="form-body" id="receipt-content">
                <!-- Receipt content will be loaded here -->
            </div>
            
            <div class="form-footer">
                <button class="btn btn-danger" id="close-receipt-btn">
                    <i class="fas fa-times"></i> بند کریں
                </button>
                <button class="btn btn-primary" id="print-receipt-btn">
                    <i class="fas fa-print"></i> پرنٹ کریں
                </button>
            </div>
        </div>
    </div>

    <script>
        // Application State
        let appState = {
            currentPage: 'dashboard',
            currentCustomerId: null,
            customers: [],
            measurements: [],
            shopSettings: {}
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            // Setup Login
            setupLogin();
            
            // Setup Navigation
            setupNavigation();
            
            // Setup Full Screen Forms
            setupForms();
            
            // Setup Settings
            setupSettings();
            
            // Load initial data
            loadInitialData();
            
            // Set current date
            updateCurrentDate();
            setInterval(updateCurrentDate, 60000); // Update every minute
        });

        // Login Functionality
        function setupLogin() {
            const loginForm = document.querySelector('.login-form');
            const loginScreen = document.getElementById('login-screen');
            const appContainer = document.getElementById('app-container');
            
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                // Simple login validation
                if (username && password) {
                    // Hide login screen, show app
                    loginScreen.style.display = 'none';
                    appContainer.style.display = 'block';
                    
                    // Load all data
                    loadAllData();
                } else {
                    alert('براہ کرم صارف نام اور پاس ورڈ درج کریں۔');
                }
            });
            
            // Logout functionality
            document.getElementById('logout-btn').addEventListener('click', function() {
                if (confirm('کیا آپ واقعی لاگ آؤٹ کرنا چاہتے ہیں؟')) {
                    appContainer.style.display = 'none';
                    loginScreen.style.display = 'block';
                    document.getElementById('password').value = '';
                }
            });
        }

        // Navigation Setup
        function setupNavigation() {
            // Sidebar navigation
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const page = this.getAttribute('data-page');
                    
                    if (page) {
                        // Remove active class from all menu items
                        document.querySelectorAll('.menu-item').forEach(el => {
                            el.classList.remove('active');
                        });
                        
                        // Add active class to clicked item
                        this.classList.add('active');
                        
                        // Hide all pages
                        document.querySelectorAll('.page').forEach(el => {
                            el.classList.remove('active');
                        });
                        
                        // Show selected page
                        document.getElementById(`${page}-page`).classList.add('active');
                        
                        // Update app state
                        appState.currentPage = page;
                        
                        // Load data for the page
                        if (page === 'customers') {
                            loadCustomersTable();
                        } else if (page === 'orders') {
                            loadOrdersTable();
                        } else if (page === 'dashboard') {
                            updateDashboard();
                        }
                    }
                });
            });
            
            // Quick action buttons
            document.getElementById('quick-add-customer').addEventListener('click', function() {
                openCustomerForm();
            });
            
            document.getElementById('quick-receipt').addEventListener('click', function() {
                openReceiptModal();
            });
            
            document.getElementById('add-customer-from-page').addEventListener('click', function() {
                openCustomerForm();
            });
            
            document.getElementById('open-customer-form').addEventListener('click', function(e) {
                e.preventDefault();
                openCustomerForm();
            });
            
            document.getElementById('open-receipt').addEventListener('click', function(e) {
                e.preventDefault();
                openReceiptModal();
            });
        }

        // Full Screen Forms Setup
        function setupForms() {
            const customerFormModal = document.getElementById('customer-form-modal');
            const closeCustomerFormBtn = document.getElementById('close-customer-form');
            const cancelCustomerFormBtn = document.getElementById('cancel-customer-form');
            
            // Open customer form from various places
            function openCustomerForm() {
                resetCustomerForm();
                customerFormModal.style.display = 'flex';
                document.getElementById('customer-name').focus();
            }
            
            // Close customer form
            function closeCustomerForm() {
                customerFormModal.style.display = 'none';
            }
            
            // Set default dates
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('order-date').value = today;
            
            const nextWeek = new Date();
            nextWeek.setDate(nextWeek.getDate() + 7);
            document.getElementById('delivery-date').value = nextWeek.toISOString().split('T')[0];
            
            // Setup event listeners
            window.openCustomerForm = openCustomerForm;
            
            closeCustomerFormBtn.addEventListener('click', closeCustomerForm);
            cancelCustomerFormBtn.addEventListener('click', closeCustomerForm);
            
            // Close modal when clicking outside
            customerFormModal.addEventListener('click', function(e) {
                if (e.target === customerFormModal) {
                    closeCustomerForm();
                }
            });
            
            // Setup balance calculation
            setupBalanceCalculation();
            
            // Setup form submission
            setupCustomerFormSubmission();
        }

        // Reset Customer Form
        function resetCustomerForm() {
            document.getElementById('customer-form').reset();
            
            // Reset dates to default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('order-date').value = today;
            
            const nextWeek = new Date();
            nextWeek.setDate(nextWeek.getDate() + 7);
            document.getElementById('delivery-date').value = nextWeek.toISOString().split('T')[0];
            
            document.getElementById('total-suits').value = 1;
            document.getElementById('remaining-balance').value = '';
            
            // Generate order number
            const orderNumber = generateOrderNumber();
            // You could display this in a field if needed
        }

        // Setup Balance Calculation
        function setupBalanceCalculation() {
            const totalAmountInput = document.getElementById('total-amount');
            const advancePaymentInput = document.getElementById('advance-payment');
            const remainingBalanceInput = document.getElementById('remaining-balance');
            
            function calculateBalance() {
                const totalAmount = parseFloat(totalAmountInput.value) || 0;
                const advancePayment = parseFloat(advancePaymentInput.value) || 0;
                const remainingBalance = totalAmount - advancePayment;
                
                remainingBalanceInput.value = remainingBalance.toFixed(2);
            }
            
            totalAmountInput.addEventListener('input', calculateBalance);
            advancePaymentInput.addEventListener('input', calculateBalance);
        }

        // Setup Customer Form Submission
        function setupCustomerFormSubmission() {
            const saveCustomerBtn = document.getElementById('save-customer-btn');
            const saveOnlyBtn = document.getElementById('save-only-btn');
            
            saveCustomerBtn.addEventListener('click', function() {
                if (saveCustomer()) {
                    closeCustomerForm();
                    // Show receipt after saving
                    setTimeout(() => {
                        openReceiptModal(appState.currentCustomerId);
                    }, 500);
                }
            });
            
            saveOnlyBtn.addEventListener('click', function() {
                if (saveCustomer()) {
                    closeCustomerForm();
                    // Refresh customers table
                    if (appState.currentPage === 'customers') {
                        loadCustomersTable();
                    }
                    updateDashboard();
                }
            });
        }

        // Save Customer Function
        function saveCustomer() {
            // Get form values
            const customerName = document.getElementById('customer-name').value;
            const customerPhone = document.getElementById('customer-phone').value;
            
            if (!customerName || !customerPhone) {
                alert('براہ کرم کسٹمر کا نام اور فون نمبر درج کریں۔');
                return false;
            }
            
            // Get all form values
            const customer = {
                id: generateOrderNumber(),
                name: customerName,
                father: document.getElementById('customer-father').value,
                phone: customerPhone,
                cnic: document.getElementById('customer-cnic').value,
                orderDate: document.getElementById('order-date').value,
                deliveryDate: document.getElementById('delivery-date').value,
                totalSuits: parseInt(document.getElementById('total-suits').value),
                suitType: document.getElementById('suit-type').value,
                totalAmount: parseFloat(document.getElementById('total-amount').value) || 0,
                advancePayment: parseFloat(document.getElementById('advance-payment').value) || 0,
                remainingBalance: parseFloat(document.getElementById('remaining-balance').value) || 0,
                paymentMethod: document.getElementById('payment-method').value,
                notes: document.getElementById('special-notes').value,
                status: parseFloat(document.getElementById('remaining-balance').value) > 0 ? 'pending' : 'completed',
                createdAt: new Date().toISOString()
            };
            
            // Get measurement values
            customer.measurements = {};
            document.querySelectorAll('#measurement-fields input').forEach(input => {
                const id = input.id.replace('measurement-', '');
                customer.measurements[id] = input.value;
            });
            
            // Get option values
            customer.options = {
                design: document.querySelector('input[name="design"]:checked').value,
                collar: document.querySelector('input[name="collar"]:checked').value,
                pocket: document.querySelector('input[name="pocket"]:checked').value,
                stitch: document.querySelector('input[name="stitch"]:checked').value,
                gera: document.querySelector('input[name="gera"]:checked').value,
                fabric: document.querySelector('input[name="fabric"]:checked').value
            };
            
            // Add customer to state
            appState.customers.push(customer);
            
            // Save to localStorage
            saveToLocalStorage('customers', appState.customers);
            
            // Set current customer ID for receipt
            appState.currentCustomerId = customer.id;
            
            // Show success message
            alert(`کسٹمر کامیابی سے محفوظ ہو گیا۔\nآرڈر نمبر: ${customer.id}`);
            
            return true;
        }

        // Receipt Modal Setup
        function openReceiptModal(customerId = null) {
            const receiptModal = document.getElementById('receipt-modal');
            const receiptContent = document.getElementById('receipt-content');
            
            if (customerId) {
                // Generate receipt for specific customer
                generateReceipt(customerId);
            } else {
                // Show customer selection
                receiptContent.innerHTML = `
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-receipt"></i>
                            <h3>رسید بنائیں</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="select-customer-receipt">کسٹمر منتخب کریں</label>
                            <select id="select-customer-receipt" class="form-control">
                                <option value="">کسٹمر منتخب کریں</option>
                                ${appState.customers.map(c => `
                                    <option value="${c.id}">${c.id} - ${c.name} - ${c.phone}</option>
                                `).join('')}
                            </select>
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="btn btn-primary" id="generate-receipt-btn">
                                <i class="fas fa-receipt"></i> رسید بنائیں
                            </button>
                        </div>
                    </div>
                `;
                
                // Add event listener to generate button
                setTimeout(() => {
                    document.getElementById('generate-receipt-btn').addEventListener('click', function() {
                        const selectedCustomerId = document.getElementById('select-customer-receipt').value;
                        if (selectedCustomerId) {
                            generateReceipt(selectedCustomerId);
                        } else {
                            alert('براہ کرم ایک کسٹمر منتخب کریں۔');
                        }
                    });
                }, 100);
            }
            
            receiptModal.style.display = 'flex';
            
            // Close receipt modal
            document.getElementById('close-receipt').addEventListener('click', function() {
                receiptModal.style.display = 'none';
            });
            
            document.getElementById('close-receipt-btn').addEventListener('click', function() {
                receiptModal.style.display = 'none';
            });
            
            // Print receipt
            document.getElementById('print-receipt-btn').addEventListener('click', function() {
                window.print();
            });
            
            // Close modal when clicking outside
            receiptModal.addEventListener('click', function(e) {
                if (e.target === receiptModal) {
                    receiptModal.style.display = 'none';
                }
            });
        }

        // Generate Receipt HTML
        function generateReceipt(customerId) {
            const customer = appState.customers.find(c => c.id === customerId);
            const shopSettings = getShopSettings();
            
            if (!customer) {
                alert('کسٹمر نہیں ملا۔');
                return;
            }
            
            const receiptContent = document.getElementById('receipt-content');
            
            // Format date
            function formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('ur-PK', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
            
            // Get measurement names
            const measurements = appState.measurements;
            
            receiptContent.innerHTML = `
                <div style="font-family: 'Noto Sans Arabic', sans-serif; max-width: 800px; margin: 0 auto;">
                    <!-- Receipt Header -->
                    <div style="text-align: center; margin-bottom: 30px; border-bottom: 2px dashed #ccc; padding-bottom: 20px;">
                        <h1 style="color: var(--primary-color); margin-bottom: 10px; font-size: 28px;">${shopSettings.name || 'تیلر شاپ'}</h1>
                        <p style="margin: 5px 0; color: #666;">${shopSettings.address || 'پتہ یہاں درج کریں'}</p>
                        <p style="margin: 5px 0; color: #666;">فون: ${shopSettings.phone || '03XX-XXXXXXX'}</p>
                        ${shopSettings.email ? `<p style="margin: 5px 0; color: #666;">ای میل: ${shopSettings.email}</p>` : ''}
                    </div>
                    
                    <!-- Receipt Title -->
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h2 style="color: var(--secondary-color); font-size: 24px;">رسید</h2>
                        <p style="color: #666;">تاریخ جاری: ${formatDate(new Date().toISOString())}</p>
                    </div>
                    
                    <!-- Customer Info -->
                    <div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">کسٹمر کی معلومات</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px;">
                            <div>
                                <strong>آرڈر نمبر:</strong> ${customer.id}
                            </div>
                            <div>
                                <strong>کسٹمر نام:</strong> ${customer.name}
                            </div>
                            <div>
                                <strong>والد کا نام:</strong> ${customer.father || '---'}
                            </div>
                            <div>
                                <strong>فون نمبر:</strong> ${customer.phone}
                            </div>
                            ${customer.cnic ? `<div><strong>شناختی کارڈ:</strong> ${customer.cnic}</div>` : ''}
                            <div>
                                <strong>آرڈر تاریخ:</strong> ${formatDate(customer.orderDate)}
                            </div>
                            <div>
                                <strong>ڈیلیوری تاریخ:</strong> ${formatDate(customer.deliveryDate)}
                            </div>
                            <div>
                                <strong>سوٹ کی قسم:</strong> ${customer.suitType}
                            </div>
                            <div>
                                <strong>سوٹ کی تعداد:</strong> ${customer.totalSuits}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Measurements -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">ناپ</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
                            ${Object.entries(customer.measurements).map(([id, value]) => {
                                const measurement = measurements.find(m => m.id == id);
                                return measurement ? `
                                    <div style="background: white; padding: 10px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                        <strong>${measurement.name}:</strong> ${value || '---'}
                                    </div>
                                ` : '';
                            }).join('')}
                        </div>
                    </div>
                    
                    <!-- Options -->
                    <div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">اختیارات</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
                            <div>
                                <strong>ڈیزائن:</strong> ${customer.options.design}
                            </div>
                            <div>
                                <strong>کالر/بین:</strong> ${customer.options.collar}
                            </div>
                            <div>
                                <strong>فرنٹ پاکٹ:</strong> ${customer.options.pocket}
                            </div>
                            <div>
                                <strong>سلائی:</strong> ${customer.options.stitch}
                            </div>
                            <div>
                                <strong>گیرا:</strong> ${customer.options.gera}
                            </div>
                            <div>
                                <strong>کپڑے کی قسم:</strong> ${customer.options.fabric}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Details -->
                    <div style="margin-bottom: 30px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">ادائیگی کی تفصیل</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px;">
                            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                <strong>کل رقم:</strong><br>
                                <span style="font-size: 20px; font-weight: bold; color: var(--primary-color);">${customer.totalAmount.toLocaleString()} روپے</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                <strong>ادائیگی:</strong><br>
                                <span style="font-size: 20px; font-weight: bold; color: var(--success-color);">${customer.advancePayment.toLocaleString()} روپے</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                <strong>بقایا:</strong><br>
                                <span style="font-size: 20px; font-weight: bold; color: ${customer.remainingBalance > 0 ? 'var(--accent-color)' : 'var(--success-color)'};">${customer.remainingBalance.toLocaleString()} روپے</span>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                <strong>ادائیگی کی قسم:</strong><br>
                                <span>${customer.paymentMethod}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notes -->
                    ${customer.notes ? `
                        <div style="margin-bottom: 30px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">خصوصی ہدایات</h3>
                            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0;">
                                ${customer.notes}
                            </div>
                        </div>
                    ` : ''}
                    
                    <!-- Footer -->
                    <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px dashed #ccc;">
                        <p style="color: #666; margin-bottom: 10px;">شکریہ! ہماری خدمات استعمال کرنے کا</p>
                        <p style="color: #999; font-size: 14px;">یہ رسید کمپیوٹر سے تیار کی گئی ہے۔ دستخط کی ضرورت نہیں۔</p>
                    </div>
                </div>
            `;
        }

        // Settings Setup
        function setupSettings() {
            // Tab switching
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs
                    document.querySelectorAll('.tab-btn').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Hide all tab contents
                    document.querySelectorAll('.tab-content').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    // Show selected tab content
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Shop settings
            document.getElementById('save-shop-settings').addEventListener('click', function() {
                const shopSettings = {
                    name: document.getElementById('shop-name').value,
                    phone: document.getElementById('shop-phone').value,
                    address: document.getElementById('shop-address').value,
                    email: document.getElementById('shop-email').value
                };
                
                saveToLocalStorage('shopSettings', shopSettings);
                appState.shopSettings = shopSettings;
                
                alert('شاپ کی ترتیبات کامیابی سے محفوظ ہو گئیں۔');
            });
            
            // Measurement settings
            setupMeasurementSettings();
        }

        // Measurement Settings
        function setupMeasurementSettings() {
            const measurementsList = document.getElementById('measurements-list');
            
            // Load measurements
            loadMeasurements();
            
            // Add new measurement
            document.getElementById('add-measurement-btn').addEventListener('click', function() {
                const newName = document.getElementById('new-measurement-name').value.trim();
                
                if (!newName) {
                    alert('براہ کرم نئے ناپ کا نام درج کریں۔');
                    return;
                }
                
                // Add to state
                const newId = appState.measurements.length > 0 ? 
                    Math.max(...appState.measurements.map(m => m.id)) + 1 : 1;
                
                appState.measurements.push({
                    id: newId,
                    name: newName
                });
                
                // Save to localStorage
                saveToLocalStorage('measurements', appState.measurements);
                
                // Refresh display
                renderMeasurements();
                
                // Clear input
                document.getElementById('new-measurement-name').value = '';
                
                alert('نیا ناپ کامیابی سے شامل ہو گیا۔');
            });
            
            // Save all measurements
            document.getElementById('save-measurements-btn').addEventListener('click', function() {
                // Get updated measurement names
                const measurementInputs = measurementsList.querySelectorAll('input[type="text"]');
                measurementInputs.forEach(input => {
                    const id = parseInt(input.getAttribute('data-id'));
                    const name = input.value.trim();
                    
                    const measurement = appState.measurements.find(m => m.id === id);
                    if (measurement && name) {
                        measurement.name = name;
                    }
                });
                
                // Save to localStorage
                saveToLocalStorage('measurements', appState.measurements);
                
                // Refresh customer form measurements
                renderMeasurementFields();
                
                alert('تمام ناپ کامیابی سے محفوظ ہو گئے۔');
            });
        }

        // Load Measurements
        function loadMeasurements() {
            const storedMeasurements = getFromLocalStorage('measurements');
            
            if (storedMeasurements && storedMeasurements.length > 0) {
                appState.measurements = storedMeasurements;
            } else {
                // Default measurements
                appState.measurements = [
                    { id: 1, name: 'لمبائی' },
                    { id: 2, name: 'بازو' },
                    { id: 3, name: 'تیرا' },
                    { id: 4, name: 'گلا' },
                    { id: 5, name: 'چھاتی' },
                    { id: 6, name: 'کمر' },
                    { id: 7, name: 'شلوار' },
                    { id: 8, name: 'پونچا' },
                    { id: 9, name: 'کولھا' },
                    { id: 10, name: 'آستین' }
                ];
                
                saveToLocalStorage('measurements', appState.measurements);
            }
            
            renderMeasurements();
            renderMeasurementFields();
        }

        // Render Measurements in Settings
        function renderMeasurements() {
            const measurementsList = document.getElementById('measurements-list');
            
            measurementsList.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h4 style="color: var(--primary-color); margin-bottom: 15px;">موجودہ ناپ</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
                        ${appState.measurements.map(measurement => `
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <input type="text" data-id="${measurement.id}" value="${measurement.name}" class="form-control">
                                <button class="btn btn-danger btn-sm delete-measurement" data-id="${measurement.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Add delete functionality
            measurementsList.querySelectorAll('.delete-measurement').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    
                    if (confirm('کیا آپ واقعی یہ ناپ حذف کرنا چاہتے ہیں؟')) {
                        appState.measurements = appState.measurements.filter(m => m.id !== id);
                        saveToLocalStorage('measurements', appState.measurements);
                        renderMeasurements();
                        renderMeasurementFields();
                        alert('ناپ کامیابی سے حذف ہو گیا۔');
                    }
                });
            });
        }

        // Render Measurement Fields in Customer Form
        function renderMeasurementFields() {
            const container = document.getElementById('measurement-fields');
            
            container.innerHTML = appState.measurements.map(measurement => `
                <div class="form-group">
                    <label for="measurement-${measurement.id}">${measurement.name}</label>
                    <input type="text" id="measurement-${measurement.id}" class="form-control" placeholder="${measurement.name}">
                </div>
            `).join('');
        }

        // Load Initial Data
        function loadInitialData() {
            // Load shop settings
            const shopSettings = getFromLocalStorage('shopSettings');
            if (shopSettings) {
                appState.shopSettings = shopSettings;
                
                // Populate settings form
                document.getElementById('shop-name').value = shopSettings.name || '';
                document.getElementById('shop-phone').value = shopSettings.phone || '';
                document.getElementById('shop-address').value = shopSettings.address || '';
                document.getElementById('shop-email').value = shopSettings.email || '';
            }
        }

        // Load All Data (after login)
        function loadAllData() {
            // Load customers
            const storedCustomers = getFromLocalStorage('customers');
            if (storedCustomers) {
                appState.customers = storedCustomers;
            }
            
            // Update dashboard
            updateDashboard();
            
            // Load recent orders table
            loadRecentOrders();
        }

        // Update Dashboard
        function updateDashboard() {
            const today = new Date().toISOString().split('T')[0];
            
            // Calculate statistics
            const totalCustomers = appState.customers.length;
            const pendingOrders = appState.customers.filter(c => c.status === 'pending').length;
            const completedOrders = appState.customers.filter(c => c.status === 'completed').length;
            const todayDeliveries = appState.customers.filter(c => c.deliveryDate === today).length;
            
            // Update UI
            document.getElementById('total-customers').textContent = totalCustomers;
            document.getElementById('pending-orders').textContent = pendingOrders;
            document.getElementById('completed-orders').textContent = completedOrders;
            document.getElementById('today-deliveries').textContent = todayDeliveries;
        }

        // Load Recent Orders Table
        function loadRecentOrders() {
            const tbody = document.getElementById('recent-orders-body');
            
            // Get recent 10 orders
            const recentOrders = [...appState.customers]
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 10);
            
            if (recentOrders.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 30px; color: #666;">
                            <i class="fas fa-inbox" style="font-size: 40px; margin-bottom: 10px; display: block; opacity: 0.5;"></i>
                            کوئی آرڈر نہیں ملا
                        </td>
                    </tr>
                `;
                return;
            }
            
            tbody.innerHTML = recentOrders.map(customer => `
                <tr>
                    <td>${customer.id}</td>
                    <td>${customer.name}</td>
                    <td>${customer.phone}</td>
                    <td>${formatDateShort(customer.orderDate)}</td>
                    <td>${formatDateShort(customer.deliveryDate)}</td>
                    <td>${customer.totalSuits}</td>
                    <td>${customer.totalAmount.toLocaleString()} روپے</td>
                    <td>
                        <span class="status-badge ${customer.status === 'completed' ? 'status-completed' : 'status-pending'}">
                            ${customer.status === 'completed' ? 'مکمل' : 'زیر التواء'}
                        </span>
                    </td>
                </tr>
            `).join('');
        }

        // Load Customers Table
        function loadCustomersTable(filter = '') {
            const tbody = document.getElementById('customers-table-body');
            
            // Filter customers if search term is provided
            let filteredCustomers = [...appState.customers];
            
            if (filter) {
                const searchTerm = filter.toLowerCase();
                filteredCustomers = filteredCustomers.filter(customer => {
                    return (
                        customer.name.toLowerCase().includes(searchTerm) ||
                        customer.phone.includes(searchTerm) ||
                        customer.id.toString().includes(searchTerm)
                    );
                });
            }
            
            if (filteredCustomers.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="11" style="text-align: center; padding: 40px; color: #666;">
                            <i class="fas fa-users" style="font-size: 40px; margin-bottom: 15px; display: block; opacity: 0.5;"></i>
                            کوئی کسٹمر نہیں ملا
                            ${filter ? `<br><small style="color: #999;">تلاش: "${filter}"</small>` : ''}
                        </td>
                    </tr>
                `;
                return;
            }
            
            // Sort by delivery date (soonest first)
            filteredCustomers.sort((a, b) => new Date(a.deliveryDate) - new Date(b.deliveryDate));
            
            tbody.innerHTML = filteredCustomers.map(customer => `
                <tr>
                    <td>${customer.id}</td>
                    <td>
                        <strong>${customer.name}</strong>
                        ${customer.father ? `<br><small style="color: #666;">والد: ${customer.father}</small>` : ''}
                    </td>
                    <td>${customer.phone}</td>
                    <td>${formatDateShort(customer.orderDate)}</td>
                    <td>
                        ${formatDateShort(customer.deliveryDate)}
                        ${isTodayOrPast(customer.deliveryDate) ? 
                            `<br><small style="color: var(--accent-color); font-weight: bold;">${isToday(customer.deliveryDate) ? 'آج' : 'تاخیر'}</small>` : 
                            ''}
                    </td>
                    <td>${customer.totalSuits}</td>
                    <td>${customer.totalAmount.toLocaleString()} روپے</td>
                    <td>${customer.advancePayment.toLocaleString()} روپے</td>
                    <td style="font-weight: ${customer.remainingBalance > 0 ? 'bold' : 'normal'}; color: ${customer.remainingBalance > 0 ? 'var(--accent-color)' : 'var(--success-color)'}">
                        ${customer.remainingBalance.toLocaleString()} روپے
                    </td>
                    <td>
                        <span class="status-badge ${customer.status === 'completed' ? 'status-completed' : 'status-pending'}">
                            ${customer.status === 'completed' ? 'مکمل' : 'زیر التواء'}
                        </span>
                    </td>
                    <td>
                        <div style="display: flex; gap: 5px;">
                            <button class="btn btn-primary btn-sm view-customer" data-id="${customer.id}" title="دیکھیں">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-success btn-sm edit-customer" data-id="${customer.id}" title="ترمیم">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm delete-customer" data-id="${customer.id}" title="حذف کریں">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // Add event listeners to action buttons
            addCustomerActionListeners();
            
            // Setup search functionality
            setupCustomerSearch();
        }

        // Load Orders Table
        function loadOrdersTable() {
            const tbody = document.getElementById('orders-table-body');
            
            if (appState.customers.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="10" style="text-align: center; padding: 40px; color: #666;">
                            <i class="fas fa-clipboard-list" style="font-size: 40px; margin-bottom: 15px; display: block; opacity: 0.5;"></i>
                            کوئی آرڈر نہیں ملا
                        </td>
                    </tr>
                `;
                return;
            }
            
            // Sort by delivery date
            const sortedCustomers = [...appState.customers].sort((a, b) => new Date(a.deliveryDate) - new Date(b.deliveryDate));
            
            tbody.innerHTML = sortedCustomers.map(customer => `
                <tr>
                    <td>${customer.id}</td>
                    <td>${customer.name}</td>
                    <td>${customer.phone}</td>
                    <td>${formatDateShort(customer.orderDate)}</td>
                    <td>${formatDateShort(customer.deliveryDate)}</td>
                    <td>${customer.totalSuits}</td>
                    <td>${customer.totalAmount.toLocaleString()} روپے</td>
                    <td>${customer.advancePayment.toLocaleString()} روپے</td>
                    <td>${customer.remainingBalance.toLocaleString()} روپے</td>
                    <td>
                        <span class="status-badge ${customer.status === 'completed' ? 'status-completed' : 'status-pending'}">
                            ${customer.status === 'completed' ? 'مکمل' : 'زیر التواء'}
                        </span>
                    </td>
                </tr>
            `).join('');
        }

        // Add Customer Action Listeners
        function addCustomerActionListeners() {
            // View customer
            document.querySelectorAll('.view-customer').forEach(btn => {
                btn.addEventListener('click', function() {
                    const customerId = this.getAttribute('data-id');
                    viewCustomer(customerId);
                });
            });
            
            // Edit customer (simplified - just open form with data)
            document.querySelectorAll('.edit-customer').forEach(btn => {
                btn.addEventListener('click', function() {
                    const customerId = this.getAttribute('data-id');
                    // In a real app, you would load customer data into form
                    alert('ترمیم کی خصوصیت تیار کی جا رہی ہے۔');
                });
            });
            
            // Delete customer
            document.querySelectorAll('.delete-customer').forEach(btn => {
                btn.addEventListener('click', function() {
                    const customerId = this.getAttribute('data-id');
                    
                    if (confirm('کیا آپ واقعی اس کسٹمر کو حذف کرنا چاہتے ہیں؟ یہ عمل واپس نہیں ہو سکتا۔')) {
                        deleteCustomer(customerId);
                    }
                });
            });
        }

        // View Customer Details
        function viewCustomer(customerId) {
            const customer = appState.customers.find(c => c.id === customerId);
            
            if (!customer) return;
            
            // Create a modal to show customer details
            const modalHtml = `
                <div style="position: fixed; top: 0; right: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 2000;">
                    <div style="background: white; border-radius: 12px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; padding: 0;">
                        <div style="background: var(--primary-color); color: white; padding: 20px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-user"></i>
                                کسٹمر کی تفصیلات
                            </h3>
                            <button id="close-view-modal" style="background: rgba(255,255,255,0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div style="padding: 25px;">
                            <!-- Customer details would go here -->
                            <p><strong>آرڈر نمبر:</strong> ${customer.id}</p>
                            <p><strong>کسٹمر نام:</strong> ${customer.name}</p>
                            <p><strong>فون نمبر:</strong> ${customer.phone}</p>
                            <p><strong>آرڈر تاریخ:</strong> ${formatDateLong(customer.orderDate)}</p>
                            <p><strong>ڈیلیوری تاریخ:</strong> ${formatDateLong(customer.deliveryDate)}</p>
                            <p><strong>کل رقم:</strong> ${customer.totalAmount.toLocaleString()} روپے</p>
                            <p><strong>ادائیگی:</strong> ${customer.advancePayment.toLocaleString()} روپے</p>
                            <p><strong>بقایا:</strong> ${customer.remainingBalance.toLocaleString()} روپے</p>
                            <p><strong>حالت:</strong> ${customer.status === 'completed' ? 'مکمل' : 'زیر التواء'}</p>
                            
                            <div style="text-align: center; margin-top: 30px;">
                                <button class="btn btn-primary" id="generate-receipt-from-view" data-id="${customer.id}">
                                    <i class="fas fa-receipt"></i> رسید بنائیں
                                </button>
                                <button class="btn btn-danger" id="close-view-btn" style="margin-right: 10px;">
                                    <i class="fas fa-times"></i> بند کریں
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            const modalContainer = document.createElement('div');
            modalContainer.innerHTML = modalHtml;
            document.body.appendChild(modalContainer);
            
            // Add event listeners
            document.getElementById('close-view-modal').addEventListener('click', function() {
                document.body.removeChild(modalContainer);
            });
            
            document.getElementById('close-view-btn').addEventListener('click', function() {
                document.body.removeChild(modalContainer);
            });
            
            document.getElementById('generate-receipt-from-view').addEventListener('click', function() {
                const customerId = this.getAttribute('data-id');
                document.body.removeChild(modalContainer);
                openReceiptModal(customerId);
            });
            
            // Close modal when clicking outside
            modalContainer.firstChild.addEventListener('click', function(e) {
                if (e.target === this) {
                    document.body.removeChild(modalContainer);
                }
            });
        }

        // Delete Customer
        function deleteCustomer(customerId) {
            appState.customers = appState.customers.filter(c => c.id !== customerId);
            saveToLocalStorage('customers', appState.customers);
            
            // Refresh tables
            if (appState.currentPage === 'customers') {
                loadCustomersTable();
            }
            if (appState.currentPage === 'orders') {
                loadOrdersTable();
            }
            if (appState.currentPage === 'dashboard') {
                updateDashboard();
                loadRecentOrders();
            }
            
            alert('کسٹمر کامیابی سے حذف ہو گیا۔');
        }

        // Setup Customer Search
        function setupCustomerSearch() {
            const searchInput = document.getElementById('customer-search');
            const searchBtn = document.getElementById('search-customer-btn');
            const clearBtn = document.getElementById('clear-search-btn');
            
            searchBtn.addEventListener('click', function() {
                loadCustomersTable(searchInput.value);
            });
            
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    loadCustomersTable(searchInput.value);
                }
            });
            
            clearBtn.addEventListener('click', function() {
                searchInput.value = '';
                loadCustomersTable('');
            });
        }

        // Utility Functions
        function updateCurrentDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            
            const dateStr = now.toLocaleDateString('ur-PK', options);
            document.getElementById('current-date').textContent = dateStr;
        }

        function formatDateShort(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ur-PK', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        function formatDateLong(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ur-PK', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function isTodayOrPast(dateString) {
            const date = new Date(dateString);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            date.setHours(0, 0, 0, 0);
            return date <= today;
        }

        function isToday(dateString) {
            const date = new Date(dateString);
            const today = new Date();
            return date.toDateString() === today.toDateString();
        }

        function generateOrderNumber() {
            const date = new Date();
            const year = date.getFullYear().toString().slice(-2);
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            
            // Get count of today's orders
            const todayOrders = appState.customers.filter(c => {
                const orderDate = new Date(c.orderDate);
                return orderDate.toDateString() === date.toDateString();
            });
            
            const count = (todayOrders.length + 1).toString().padStart(3, '0');
            
            return `${year}${month}${day}${count}`;
        }

        function getFromLocalStorage(key) {
            try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : null;
            } catch (e) {
                console.error('Error reading from localStorage:', e);
                return null;
            }
        }

        function saveToLocalStorage(key, value) {
            try {
                localStorage.setItem(key, JSON.stringify(value));
            } catch (e) {
                console.error('Error saving to localStorage:', e);
            }
        }

        function getShopSettings() {
            return getFromLocalStorage('shopSettings') || {};
        }
    </script>
</body>
</html>